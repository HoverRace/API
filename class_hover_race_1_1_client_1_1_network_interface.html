<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>HoverRace: HoverRace::Client::NetworkInterface Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="customdoxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">HoverRace
   &#160;<span id="projectnumber">2.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_hover_race.html">HoverRace</a></li><li class="navelem"><a class="el" href="namespace_hover_race_1_1_client.html">Client</a></li><li class="navelem"><a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html">NetworkInterface</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="class_hover_race_1_1_client_1_1_network_interface-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">HoverRace::Client::NetworkInterface Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The MR_NetworkInterface is the top-level controller for connecting and communicating with other clients.  
 <a href="class_hover_race_1_1_client_1_1_network_interface.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_net_interface_8h_source.html">NetInterface.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a78a12c5bca110af0c4eb17c674855cb8"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#a78a12c5bca110af0c4eb17c674855cb8a4f89cb14757733681f279d8b0daa895b">eMaxClient</a> =  9
 }</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:af1ea63a3ab6d51ff5457c8115c6200db"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#af1ea63a3ab6d51ff5457c8115c6200db">NetworkInterface</a> ()</td></tr>
<tr class="memdesc:af1ea63a3ab6d51ff5457c8115c6200db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set up the <a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html" title="The MR_NetworkInterface is the top-level controller for connecting and communicating with other clien...">NetworkInterface</a>.  <a href="#af1ea63a3ab6d51ff5457c8115c6200db"></a><br/></td></tr>
<tr class="memitem:a461653df2da6d9d683d8595d3b1c53d5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#a461653df2da6d9d683d8595d3b1c53d5">~NetworkInterface</a> ()</td></tr>
<tr class="memdesc:a461653df2da6d9d683d8595d3b1c53d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy the <a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html" title="The MR_NetworkInterface is the top-level controller for connecting and communicating with other clien...">NetworkInterface</a>.  <a href="#a461653df2da6d9d683d8595d3b1c53d5"></a><br/></td></tr>
<tr class="memitem:abff0fac5aba1dd9fb1fe90315ab8ace8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#abff0fac5aba1dd9fb1fe90315ab8ace8">SetPlayerName</a> (const char *pPlayerName)</td></tr>
<tr class="memdesc:abff0fac5aba1dd9fb1fe90315ab8ace8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the player name.  <a href="#abff0fac5aba1dd9fb1fe90315ab8ace8"></a><br/></td></tr>
<tr class="memitem:a3bc590e4ba4cb35c182d751fe9c0aa16"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#a3bc590e4ba4cb35c182d751fe9c0aa16">GetPlayerName</a> () const </td></tr>
<tr class="memdesc:a3bc590e4ba4cb35c182d751fe9c0aa16"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the player name.  <a href="#a3bc590e4ba4cb35c182d751fe9c0aa16"></a><br/></td></tr>
<tr class="memitem:a2aeca5f01081019d7b81486ad3b2678f"><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#a2aeca5f01081019d7b81486ad3b2678f">MasterConnect</a> (HWND pWindow, const char *pGameName, BOOL pPromptForPort=TRUE, unsigned pDefaultPort=<a class="el" href="class_hover_race_1_1_util_1_1_config.html#ad9eab09647376746d9fcfdf424348354">HoverRace::Util::Config::GetInstance</a>()-&gt;net.tcpServPort, HWND *pModalessDlg=NULL, int pReturnMessage=0)</td></tr>
<tr class="memdesc:a2aeca5f01081019d7b81486ad3b2678f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set up the network interface if we are the server.  <a href="#a2aeca5f01081019d7b81486ad3b2678f"></a><br/></td></tr>
<tr class="memitem:af4022461918cd337171a6cc6fc428c51"><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#af4022461918cd337171a6cc6fc428c51">SlavePreConnect</a> (HWND pWindow, std::string &amp;pGameName)</td></tr>
<tr class="memdesc:af4022461918cd337171a6cc6fc428c51"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is called to get parameters about a server.  <a href="#af4022461918cd337171a6cc6fc428c51"></a><br/></td></tr>
<tr class="memitem:a722a51f236913a1c3152eb268b31cefd"><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#a722a51f236913a1c3152eb268b31cefd">SlaveConnect</a> (HWND pWindow, const char *pServerIP=NULL, unsigned pPort=<a class="el" href="class_hover_race_1_1_util_1_1_config.html#ad9eab09647376746d9fcfdf424348354">HoverRace::Util::Config::GetInstance</a>()-&gt;net.tcpServPort, const char *pGameName=NULL, HWND *pModalessDlg=NULL, int pReturnMessage=0)</td></tr>
<tr class="memdesc:a722a51f236913a1c3152eb268b31cefd"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is called when a user connects to an existing game from the IMR, or, after the SlavePreConnect phase completes (which is called when a user connects to a came from the "Connect to TCP Server..." option.  <a href="#a722a51f236913a1c3152eb268b31cefd"></a><br/></td></tr>
<tr class="memitem:a93b7028dfc444271c957e98e553ecb8b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#a93b7028dfc444271c957e98e553ecb8b">Disconnect</a> ()</td></tr>
<tr class="memdesc:a93b7028dfc444271c957e98e553ecb8b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close the registry socket and reset all variables to their "disconnected" state.  <a href="#a93b7028dfc444271c957e98e553ecb8b"></a><br/></td></tr>
<tr class="memitem:aeeaee69732608979ca3b305acdf78a7c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#aeeaee69732608979ca3b305acdf78a7c">GetClientCount</a> () const </td></tr>
<tr class="memdesc:aeeaee69732608979ca3b305acdf78a7c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of connected clients (checks with <a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#affe5167f3041b5c2ccbd78c47e8b48c1" title="Check if we are connected to the client with the specified index (pIndex).">IsConnected()</a>).  <a href="#aeeaee69732608979ca3b305acdf78a7c"></a><br/></td></tr>
<tr class="memitem:a17a22cc44ee35af2f72f014e454461a4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#a17a22cc44ee35af2f72f014e454461a4">GetId</a> () const </td></tr>
<tr class="memdesc:a17a22cc44ee35af2f72f014e454461a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the player id of this interface ("what player are we?").  <a href="#a17a22cc44ee35af2f72f014e454461a4"></a><br/></td></tr>
<tr class="memitem:ad59a1045c346a1b192b0906f90c24ebc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#ad59a1045c346a1b192b0906f90c24ebc">GetLagFromServer</a> () const </td></tr>
<tr class="memdesc:ad59a1045c346a1b192b0906f90c24ebc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the calculated lag to the server.  <a href="#ad59a1045c346a1b192b0906f90c24ebc"></a><br/></td></tr>
<tr class="memitem:a252acbadcfaecd0e4106ad6664863767"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#a252acbadcfaecd0e4106ad6664863767">GetAvgLag</a> (int pClient) const </td></tr>
<tr class="memdesc:a252acbadcfaecd0e4106ad6664863767"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unlike its name says, this actually does the exact same thing as <a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#a7349de29bcf9eeae71f3fd01f20f4f81" title="Return the smallest lag sample to the given client.">GetMinLag()</a>.  <a href="#a252acbadcfaecd0e4106ad6664863767"></a><br/></td></tr>
<tr class="memitem:a7349de29bcf9eeae71f3fd01f20f4f81"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#a7349de29bcf9eeae71f3fd01f20f4f81">GetMinLag</a> (int pClient) const </td></tr>
<tr class="memdesc:a7349de29bcf9eeae71f3fd01f20f4f81"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the smallest lag sample to the given client.  <a href="#a7349de29bcf9eeae71f3fd01f20f4f81"></a><br/></td></tr>
<tr class="memitem:ab6c405672bb0bafc5fe2e0377d0b3571"><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#ab6c405672bb0bafc5fe2e0377d0b3571">CreateUDPRecvSocket</a> (int pPort)</td></tr>
<tr class="memdesc:ab6c405672bb0bafc5fe2e0377d0b3571"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create the UDP receive port, set the port to be non-blocking, and bind it.  <a href="#ab6c405672bb0bafc5fe2e0377d0b3571"></a><br/></td></tr>
<tr class="memitem:a26c22aed3881f08c1dd97f0130999d33"><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#a26c22aed3881f08c1dd97f0130999d33">UDPSend</a> (int pClient, <a class="el" href="class_hover_race_1_1_client_1_1_net_message_buffer.html">NetMessageBuffer</a> *pMessage, BOOL pLongPort, BOOL pResendLast=FALSE)</td></tr>
<tr class="memdesc:a26c22aed3881f08c1dd97f0130999d33"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a message to the given client.  <a href="#a26c22aed3881f08c1dd97f0130999d33"></a><br/></td></tr>
<tr class="memitem:ad0a65580aa2f128d1f48891a38efab36"><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#ad0a65580aa2f128d1f48891a38efab36">BroadcastMessage</a> (<a class="el" href="class_hover_race_1_1_client_1_1_net_message_buffer.html">NetMessageBuffer</a> *pMessage, int pReqLevel)</td></tr>
<tr class="memdesc:ad0a65580aa2f128d1f48891a38efab36"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a message to all clients.  <a href="#ad0a65580aa2f128d1f48891a38efab36"></a><br/></td></tr>
<tr class="memitem:a4c7536bc5ad6d1262e7e5db62b767f27"><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#a4c7536bc5ad6d1262e7e5db62b767f27">FetchMessage</a> (DWORD &amp;pTimeStamp, int &amp;pMessageType, int &amp;pMessageLen, const <a class="el" href="_m_r___types_8h.html#a3089f5b68dade59b5103438f6dbd5d03">MR_UInt8</a> *&amp;pMessage, int &amp;pClientId)</td></tr>
<tr class="memdesc:a4c7536bc5ad6d1262e7e5db62b767f27"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetches a message out of the queue.  <a href="#a4c7536bc5ad6d1262e7e5db62b767f27"></a><br/></td></tr>
<tr class="memitem:ade4382ecf8666302aa4e17dacb2d8fc0"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#ade4382ecf8666302aa4e17dacb2d8fc0">GetPlayerName</a> (int pIndex) const </td></tr>
<tr class="memdesc:ade4382ecf8666302aa4e17dacb2d8fc0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the player name of the specified index (pIndex).  <a href="#ade4382ecf8666302aa4e17dacb2d8fc0"></a><br/></td></tr>
<tr class="memitem:affe5167f3041b5c2ccbd78c47e8b48c1"><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#affe5167f3041b5c2ccbd78c47e8b48c1">IsConnected</a> (int pIndex) const </td></tr>
<tr class="memdesc:affe5167f3041b5c2ccbd78c47e8b48c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if we are connected to the client with the specified index (pIndex).  <a href="#affe5167f3041b5c2ccbd78c47e8b48c1"></a><br/></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:af81f4d3b6ac58585492d25d19f3d1a05"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#af81f4d3b6ac58585492d25d19f3d1a05">SendConnectionDoneIfNeeded</a> ()</td></tr>
<tr class="memdesc:af81f4d3b6ac58585492d25d19f3d1a05"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function sends the MRNM_CONNECTION_DONE message to the server, if we have successfully connected to all other clients.  <a href="#af81f4d3b6ac58585492d25d19f3d1a05"></a><br/></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:a7bf01929c7700e5501fb9e517ca16cee"><td class="memItemLeft" align="right" valign="top">static BOOL CALLBACK&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#a7bf01929c7700e5501fb9e517ca16cee">ServerPortCallBack</a> (HWND pWindow, UINT pMsgId, WPARAM pWParam, LPARAM pLParam)</td></tr>
<tr class="memdesc:a7bf01929c7700e5501fb9e517ca16cee"><td class="mdescLeft">&#160;</td><td class="mdescRight">This callback is used by the "Port selection" dialog (IDD_SERVER_PORT).  <a href="#a7bf01929c7700e5501fb9e517ca16cee"></a><br/></td></tr>
<tr class="memitem:ac2135c6020d4a511158831d95f2a1af5"><td class="memItemLeft" align="right" valign="top">static BOOL CALLBACK&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#ac2135c6020d4a511158831d95f2a1af5">ServerAddrCallBack</a> (HWND pWindow, UINT pMsgId, WPARAM pWParam, LPARAM pLParam)</td></tr>
<tr class="memdesc:ac2135c6020d4a511158831d95f2a1af5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback for the "Server selection" dialog box (IDD_SERVER_ADDR).  <a href="#ac2135c6020d4a511158831d95f2a1af5"></a><br/></td></tr>
<tr class="memitem:a6cb1bc71fd3e14f26d7e805fef28922f"><td class="memItemLeft" align="right" valign="top">static BOOL CALLBACK&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#a6cb1bc71fd3e14f26d7e805fef28922f">WaitGameNameCallBack</a> (HWND pWindow, UINT pMsgId, WPARAM pWParam, LPARAM pLParam)</td></tr>
<tr class="memdesc:a6cb1bc71fd3e14f26d7e805fef28922f"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the callback for the "Connecting to server" dialog box (IDD_NET_PROGRESS).  <a href="#a6cb1bc71fd3e14f26d7e805fef28922f"></a><br/></td></tr>
<tr class="memitem:ab662aae9afe2a226918cfcb616da781c"><td class="memItemLeft" align="right" valign="top">static BOOL CALLBACK&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#ab662aae9afe2a226918cfcb616da781c">ListCallBack</a> (HWND pWindow, UINT pMsgId, WPARAM pWParam, LPARAM pLParam)</td></tr>
<tr class="memdesc:ab662aae9afe2a226918cfcb616da781c"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method is called when modifications to the "TCP Connections" dialog (IDD_TCP_CLIENT or IDD_TCP_SERVER) occur.  <a href="#ab662aae9afe2a226918cfcb616da781c"></a><br/></td></tr>
<tr class="memitem:a57f9131720504afd607feca5538d6f55"><td class="memItemLeft" align="right" valign="top">static BOOL CALLBACK&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#a57f9131720504afd607feca5538d6f55">WarnAloneCallback</a> (HWND pWindow, UINT pMsgId, WPARAM pWParam, LPARAM pLParam)</td></tr>
<tr class="memdesc:a57f9131720504afd607feca5538d6f55"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is the callback for the "Warning, about to launch alone" dialog requested in #101.  <a href="#a57f9131720504afd607feca5538d6f55"></a><br/></td></tr>
<tr class="memitem:ac4c388a4b71b653a9144cd9a82975ab5"><td class="memItemLeft" align="right" valign="top">static BOOL CALLBACK&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#ac4c388a4b71b653a9144cd9a82975ab5">WaitConnCallback</a> (HWND pWindow, UINT pMsgId, WPARAM pWParam, LPARAM pLParam)</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a79adbd8279025f0dbaa39f4c99f36085"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#a79adbd8279025f0dbaa39f4c99f36085">mPlayer</a></td></tr>
<tr class="memitem:a5cd41e6fa47a791637506d4e8033eaa2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#a5cd41e6fa47a791637506d4e8033eaa2">mId</a></td></tr>
<tr class="memdesc:a5cd41e6fa47a791637506d4e8033eaa2"><td class="mdescLeft">&#160;</td><td class="mdescRight">player name  <a href="#a5cd41e6fa47a791637506d4e8033eaa2"></a><br/></td></tr>
<tr class="memitem:a11246a48d83b25e2b288603c126e751c"><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#a11246a48d83b25e2b288603c126e751c">mServerMode</a></td></tr>
<tr class="memdesc:a11246a48d83b25e2b288603c126e751c"><td class="mdescLeft">&#160;</td><td class="mdescRight">player id  <a href="#a11246a48d83b25e2b288603c126e751c"></a><br/></td></tr>
<tr class="memitem:a344375a8516ac8ea9c281b3952d67c09"><td class="memItemLeft" align="right" valign="top">SOCKET&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#a344375a8516ac8ea9c281b3952d67c09">mRegistrySocket</a></td></tr>
<tr class="memitem:a0934df39c6b1c8dc58c799cdd6d2599e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#a0934df39c6b1c8dc58c799cdd6d2599e">mServerPort</a></td></tr>
<tr class="memitem:a4dea174387476a0e5eb9f2da93bd9a81"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#a4dea174387476a0e5eb9f2da93bd9a81">mUDPRecvPort</a></td></tr>
<tr class="memitem:a5db0dbc6ad22cb8c813c194297a54123"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#a5db0dbc6ad22cb8c813c194297a54123">mTCPRecvPort</a></td></tr>
<tr class="memitem:a9fc5d9d7a5b40bfb6900d13770313e20"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#a9fc5d9d7a5b40bfb6900d13770313e20">mServerAddr</a></td></tr>
<tr class="memitem:a535becedafbe919681e3a75cc68f55a8"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#a535becedafbe919681e3a75cc68f55a8">mGameName</a></td></tr>
<tr class="memitem:a3f944f1fcc97124658458609cf307df1"><td class="memItemLeft" align="right" valign="top">SOCKET&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#a3f944f1fcc97124658458609cf307df1">mUDPOutShortPort</a></td></tr>
<tr class="memdesc:a3f944f1fcc97124658458609cf307df1"><td class="mdescLeft">&#160;</td><td class="mdescRight">just the track name  <a href="#a3f944f1fcc97124658458609cf307df1"></a><br/></td></tr>
<tr class="memitem:a836edfb47d1ca2aae41be5cd125a2352"><td class="memItemLeft" align="right" valign="top">SOCKET&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#a836edfb47d1ca2aae41be5cd125a2352">mUDPOutLongPort</a></td></tr>
<tr class="memitem:a1c45aeb043a3b61fe087de55bace909b"><td class="memItemLeft" align="right" valign="top">SOCKET&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#a1c45aeb043a3b61fe087de55bace909b">mUDPRecvSocket</a></td></tr>
<tr class="memitem:a508cb03f24788763eca87a13c2928f22"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_hover_race_1_1_client_1_1_network_port.html">NetworkPort</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#a508cb03f24788763eca87a13c2928f22">mClient</a> [<a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#a78a12c5bca110af0c4eb17c674855cb8a4f89cb14757733681f279d8b0daa895b">eMaxClient</a>]</td></tr>
<tr class="memdesc:a508cb03f24788763eca87a13c2928f22"><td class="mdescLeft">&#160;</td><td class="mdescRight">for one-port UDP hack  <a href="#a508cb03f24788763eca87a13c2928f22"></a><br/></td></tr>
<tr class="memitem:a261c4994e5bb57c869a9aa3a082a3bc7"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#a261c4994e5bb57c869a9aa3a082a3bc7">mClientName</a> [<a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#a78a12c5bca110af0c4eb17c674855cb8a4f89cb14757733681f279d8b0daa895b">eMaxClient</a>]</td></tr>
<tr class="memitem:a19451953ef8a7e8f79838bfb459c1833"><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#a19451953ef8a7e8f79838bfb459c1833">mAllPreLoguedRecv</a></td></tr>
<tr class="memitem:a836963613da7a8ad77091d08f3ca7348"><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#a836963613da7a8ad77091d08f3ca7348">mCanBePreLogued</a> [<a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#a78a12c5bca110af0c4eb17c674855cb8a4f89cb14757733681f279d8b0daa895b">eMaxClient</a>]</td></tr>
<tr class="memdesc:a836963613da7a8ad77091d08f3ca7348"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used by client to know if all prelogued have been received.  <a href="#a836963613da7a8ad77091d08f3ca7348"></a><br/></td></tr>
<tr class="memitem:ab4bb2ef151d4f23c0c8cd9218acd4710"><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#ab4bb2ef151d4f23c0c8cd9218acd4710">mPreLoguedClient</a> [<a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#a78a12c5bca110af0c4eb17c674855cb8a4f89cb14757733681f279d8b0daa895b">eMaxClient</a>]</td></tr>
<tr class="memitem:a4f98f2f769828e5d6ba99fa27f941015"><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#a4f98f2f769828e5d6ba99fa27f941015">mConnected</a> [<a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#a78a12c5bca110af0c4eb17c674855cb8a4f89cb14757733681f279d8b0daa895b">eMaxClient</a>]</td></tr>
<tr class="memitem:a72819d3ebd9b56a170a72e373d30b188"><td class="memItemLeft" align="right" valign="top">DWORD&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#a72819d3ebd9b56a170a72e373d30b188">mClientAddr</a> [<a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#a78a12c5bca110af0c4eb17c674855cb8a4f89cb14757733681f279d8b0daa895b">eMaxClient</a>]</td></tr>
<tr class="memdesc:a72819d3ebd9b56a170a72e373d30b188"><td class="mdescLeft">&#160;</td><td class="mdescRight">Correctly connected state used by the server.  <a href="#a72819d3ebd9b56a170a72e373d30b188"></a><br/></td></tr>
<tr class="memitem:a09bbe4ce45b992904ee358c96aba2a90"><td class="memItemLeft" align="right" valign="top">DWORD&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#a09bbe4ce45b992904ee358c96aba2a90">mClientBkAddr</a> [<a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#a78a12c5bca110af0c4eb17c674855cb8a4f89cb14757733681f279d8b0daa895b">eMaxClient</a>]</td></tr>
<tr class="memitem:ac0e1dbab09394db3ab9d12bdc5630c6a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#ac0e1dbab09394db3ab9d12bdc5630c6a">mClientPort</a> [<a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#a78a12c5bca110af0c4eb17c674855cb8a4f89cb14757733681f279d8b0daa895b">eMaxClient</a>]</td></tr>
<tr class="memitem:ae42528194eb80e560e3f6e988d140e50"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#ae42528194eb80e560e3f6e988d140e50">mReturnMessage</a></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:acff074558e56761d0a7c61e29989d608"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html">NetworkInterface</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#acff074558e56761d0a7c61e29989d608">mActiveInterface</a> = NULL</td></tr>
<tr class="memdesc:acff074558e56761d0a7c61e29989d608"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message to return to the parent window in modeless mode.  <a href="#acff074558e56761d0a7c61e29989d608"></a><br/></td></tr>
</table>
<a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>The MR_NetworkInterface is the top-level controller for connecting and communicating with other clients. </p>
<p>The tough part to understand about this class is the connection initiations.</p>
<p>The start of the connection process begins in <a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#a2aeca5f01081019d7b81486ad3b2678f" title="Set up the network interface if we are the server.">MasterConnect()</a> for the server, <a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#af4022461918cd337171a6cc6fc428c51" title="This function is called to get parameters about a server.">SlavePreConnect()</a> for a client connecting not through the IMR, and <a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#a722a51f236913a1c3152eb268b31cefd" title="This function is called when a user connects to an existing game from the IMR, or, after the SlavePreConnect phase completes (which is called when a user connects to a came from the &quot;Connect to TCP Server...&quot; option.">SlaveConnect()</a> for a client connecting through the IMR. <a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#a722a51f236913a1c3152eb268b31cefd" title="This function is called when a user connects to an existing game from the IMR, or, after the SlavePreConnect phase completes (which is called when a user connects to a came from the &quot;Connect to TCP Server...&quot; option.">SlaveConnect()</a> is also called after <a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#af4022461918cd337171a6cc6fc428c51" title="This function is called to get parameters about a server.">SlavePreConnect()</a> (if a pre-connect phase was needed).</p>
<p>The "guts" of the connection establishing process can be found in the <a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#ab662aae9afe2a226918cfcb616da781c" title="This method is called when modifications to the &quot;TCP Connections&quot; dialog (IDD_TCP_CLIENT or IDD_TCP_S...">ListCallBack()</a> dialog callback function. </p>
</div><h2>Member Enumeration Documentation</h2>
<a class="anchor" id="a78a12c5bca110af0c4eb17c674855cb8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a78a12c5bca110af0c4eb17c674855cb8a4f89cb14757733681f279d8b0daa895b"></a>eMaxClient</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

</div>
</div>
<h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="af1ea63a3ab6d51ff5457c8115c6200db"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HoverRace::Client::NetworkInterface::NetworkInterface </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set up the <a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html" title="The MR_NetworkInterface is the top-level controller for connecting and communicating with other clien...">NetworkInterface</a>. </p>
<p>Set up the client list and information, create and initialize both UDPOut ports, set them as non-blocking, and set the player name (mPlayer) correctly. </p>

</div>
</div>
<a class="anchor" id="a461653df2da6d9d683d8595d3b1c53d5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HoverRace::Client::NetworkInterface::~NetworkInterface </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroy the <a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html" title="The MR_NetworkInterface is the top-level controller for connecting and communicating with other clien...">NetworkInterface</a>. </p>
<p>Close the UDP out sockets, disconnect, and call WSACleanup() to clean up WSA-related cruft. </p>

</div>
</div>
<h2>Member Function Documentation</h2>
<a class="anchor" id="ad0a65580aa2f128d1f48891a38efab36"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL HoverRace::Client::NetworkInterface::BroadcastMessage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_hover_race_1_1_client_1_1_net_message_buffer.html">NetMessageBuffer</a> *&#160;</td>
          <td class="paramname"><em>pMessage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pReqLevel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a message to all clients. </p>
<p>Assumes long port for UDP out and that the message is not being resent.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pMessage</td><td><a class="el" href="class_hover_race_1_1_client_1_1_net_message_buffer.html" title="The MR_NetMessageBuffer class is a wrapper for data being transmitted over the network.">NetMessageBuffer</a> structure containing the message to be sent </td></tr>
    <tr><td class="paramname">pReqLevel</td><td>If set to MR_NET_DATAGRAM UDP will be used; otherwise, TCP will be used </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ab6c405672bb0bafc5fe2e0377d0b3571"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL HoverRace::Client::NetworkInterface::CreateUDPRecvSocket </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pPort</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create the UDP receive port, set the port to be non-blocking, and bind it. </p>
<p>Returns TRUE on success (and FALSE on error).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pPort</td><td>The port to use </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a93b7028dfc444271c957e98e553ecb8b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HoverRace::Client::NetworkInterface::Disconnect </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close the registry socket and reset all variables to their "disconnected" state. </p>

</div>
</div>
<a class="anchor" id="a4c7536bc5ad6d1262e7e5db62b767f27"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL HoverRace::Client::NetworkInterface::FetchMessage </td>
          <td>(</td>
          <td class="paramtype">DWORD &amp;&#160;</td>
          <td class="paramname"><em>pTimeStamp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>pMessageType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>pMessageLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="_m_r___types_8h.html#a3089f5b68dade59b5103438f6dbd5d03">MR_UInt8</a> *&amp;&#160;</td>
          <td class="paramname"><em>pMessage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>pClientId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fetches a message out of the queue. </p>
<p>Writes the message's data into the references passed as parameters.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pTimeStamp</td><td>Timestamp of the message </td></tr>
    <tr><td class="paramname">pMessageType</td><td>ID type of the message </td></tr>
    <tr><td class="paramname">pMessageLen</td><td>Length of the message </td></tr>
    <tr><td class="paramname">pMessage</td><td>MR_UInt8 buffer containing the message </td></tr>
    <tr><td class="paramname">pClientId</td><td>ID of the client </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a252acbadcfaecd0e4106ad6664863767"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int HoverRace::Client::NetworkInterface::GetAvgLag </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pClient</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unlike its name says, this actually does the exact same thing as <a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#a7349de29bcf9eeae71f3fd01f20f4f81" title="Return the smallest lag sample to the given client.">GetMinLag()</a>. </p>
<p>It returns the minimum, not the average like its name implies. Hooray for lying!</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pClient</td><td>Index of the client </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aeeaee69732608979ca3b305acdf78a7c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int HoverRace::Client::NetworkInterface::GetClientCount </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the number of connected clients (checks with <a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#affe5167f3041b5c2ccbd78c47e8b48c1" title="Check if we are connected to the client with the specified index (pIndex).">IsConnected()</a>). </p>

</div>
</div>
<a class="anchor" id="a17a22cc44ee35af2f72f014e454461a4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int HoverRace::Client::NetworkInterface::GetId </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the player id of this interface ("what player are we?"). </p>

</div>
</div>
<a class="anchor" id="ad59a1045c346a1b192b0906f90c24ebc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int HoverRace::Client::NetworkInterface::GetLagFromServer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the calculated lag to the server. </p>

</div>
</div>
<a class="anchor" id="a7349de29bcf9eeae71f3fd01f20f4f81"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int HoverRace::Client::NetworkInterface::GetMinLag </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pClient</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the smallest lag sample to the given client. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pClient</td><td>Index of the client </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a3bc590e4ba4cb35c182d751fe9c0aa16"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * HoverRace::Client::NetworkInterface::GetPlayerName </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the player name. </p>

</div>
</div>
<a class="anchor" id="ade4382ecf8666302aa4e17dacb2d8fc0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * HoverRace::Client::NetworkInterface::GetPlayerName </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pIndex</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the player name of the specified index (pIndex). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pIndex</td><td>The index of the player whose name we are seeking </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="affe5167f3041b5c2ccbd78c47e8b48c1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL HoverRace::Client::NetworkInterface::IsConnected </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pIndex</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if we are connected to the client with the specified index (pIndex). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pIndex</td><td>The index of the player whose connection status we are seeking </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ab662aae9afe2a226918cfcb616da781c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">BOOL CALLBACK HoverRace::Client::NetworkInterface::ListCallBack </td>
          <td>(</td>
          <td class="paramtype">HWND&#160;</td>
          <td class="paramname"><em>pWindow</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UINT&#160;</td>
          <td class="paramname"><em>pMsgId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">WPARAM&#160;</td>
          <td class="paramname"><em>pWParam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">LPARAM&#160;</td>
          <td class="paramname"><em>pLParam</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This method is called when modifications to the "TCP Connections" dialog (IDD_TCP_CLIENT or IDD_TCP_SERVER) occur. </p>
<p>Four basic sequences of packet reception occur through this method &ndash; one for the server, one for a client connecting to the server, one for a client connecting to another client, and another for a client being connected to by another client. A basic flowchart:</p>
<p>Server:</p>
<ol type="1">
<li>Dialog is initialized. Set up the main socket for reception and wait for a new client to connect (MRM_NEW_CLIENT).</li>
<li>A new client has connected: find a place in the list for them, add them to the list, and wait for another message (MRNM_CONN_NAME_GET_SET)</li>
<li><a class="el" href="namespace_hover_race_1_1_client.html">Client</a> has responded (MRNM_CONN_NAME_GET_SET) with player name and UDP recv port; add it to the list and respond with our name and UDP receive port (MRNM_CONN_NAME_SET) and then send the list of other client IPs and names (MRNM_CLIENT_ADDR). Wait for client to initiate lag test (MRNM_LAG_TEST).</li>
<li>Lag test initiation received (MRNM_LAG_TEST); respond with current time (MRNM_LAG_ANSWER). The client will repeat the lag test 5 times, then inform us of the lag info.</li>
<li>Lag info received (MRNM_LAG_INFO). Wait for more connections (go to step 2) or user input to start the race.</li>
<li>User started the race. If some connections aren't done, ask the user if they really want to continue. If they do, send an MRNM_READY message to all clients. Remove the dialog and send mReturnMessage to the parent window (pWindow).</li>
</ol>
<p><a class="el" href="namespace_hover_race_1_1_client.html">Client</a> connecting to server:</p>
<ol type="1">
<li>Dialog is initialized. Set up sockets for reception and ask the server for the game name (MRNM_CONN_NAME_GET_SET), sending the player name and UDP receive port.</li>
<li>Server responded with their name and UDP receive port (MRNM_CONN_NAME_SET); initiate a lag test (MRNM_LAG_TEST), sending the current time. Wait for the response.</li>
<li>Server responded with lag (MRNM_LAG_ANSWER). Do 4 more lag tests (totaling 5 tests).</li>
<li>Send the server lag info (MRNM_LAG_INFO). Mark this connection as done, update the dialog box as such.</li>
<li>Wait for the MRNM_READY message from the server to start the game.</li>
</ol>
<p><a class="el" href="namespace_hover_race_1_1_client.html">Client</a> connecting to another client:</p>
<ol type="1">
<li>The server gave us the info to connect to the new client with the MRNM_CLIENT_ADDR message. Set up the socket and try to connect to the new client.</li>
<li>(jump to the first step of the "Client connecting to server:" section)</li>
<li>When the lag tests are done, call <a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#af81f4d3b6ac58585492d25d19f3d1a05" title="This function sends the MRNM_CONNECTION_DONE message to the server, if we have successfully connected...">SendConnectionDoneIfNeeded()</a> to send the MRNM_CONNECTION_DONE message to the server if we are connected to all the other clients.</li>
<li>Wait for the MRNM_READY message.</li>
</ol>
<p><a class="el" href="namespace_hover_race_1_1_client.html">Client</a> being connected to by another client:</p>
<ol type="1">
<li>We received a connection request from a client.</li>
<li>(jump to "Server:", step 2, follow until step 5.</li>
<li>Wait for the MRNM_READY message.</li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pWindow</td><td>Parent window </td></tr>
    <tr><td class="paramname">pMsgId</td><td>ID of the message sent by the dialog </td></tr>
    <tr><td class="paramname">pWParam</td><td>ID denoting a selected option (for pMsgId WM_COMMAND) </td></tr>
    <tr><td class="paramname">pLParam</td><td>not used but required for MFC callback </td></tr>
  </table>
  </dd>
</dl>
<p>Here is how I want to change this:</p>
<ol type="1">
<li>All messages become MRM_CLIENT.</li>
<li>lClient is not determined until the message is read.</li>
<li>The next message in the queue is always dealt with (no ignoring).</li>
</ol>
<p>But what if lClient is MR_ID_NOT_SET? How do we differentiate the clients?</p>

</div>
</div>
<a class="anchor" id="a2aeca5f01081019d7b81486ad3b2678f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL HoverRace::Client::NetworkInterface::MasterConnect </td>
          <td>(</td>
          <td class="paramtype">HWND&#160;</td>
          <td class="paramname"><em>pWindow</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pGameName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BOOL&#160;</td>
          <td class="paramname"><em>pPromptForPort</em> = <code>TRUE</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>pDefaultPort</em> = <code><a class="el" href="class_hover_race_1_1_util_1_1_config.html#ad9eab09647376746d9fcfdf424348354">HoverRace::Util::Config::GetInstance</a>()-&gt;net.tcpServPort</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">HWND *&#160;</td>
          <td class="paramname"><em>pModalessDlg</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pReturnMessage</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set up the network interface if we are the server. </p>
<p>Clear existing connections, set up the server socket, and set up the interface to wait for incoming connections.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pWindow</td><td>Parent window </td></tr>
    <tr><td class="paramname">pGameName</td><td>Track name </td></tr>
    <tr><td class="paramname">pPromptForPort</td><td>Should we use the default port or choose our own? </td></tr>
    <tr><td class="paramname">pDefaultPort</td><td>The default port </td></tr>
    <tr><td class="paramname">pModalessDlg</td><td>If this is NULL, the "TCP Connections" dialog is modal </td></tr>
    <tr><td class="paramname">pReturnMessage</td><td>Callback message (see <a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#ab662aae9afe2a226918cfcb616da781c" title="This method is called when modifications to the &quot;TCP Connections&quot; dialog (IDD_TCP_CLIENT or IDD_TCP_S...">ListCallBack()</a>) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="af81f4d3b6ac58585492d25d19f3d1a05"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void HoverRace::Client::NetworkInterface::SendConnectionDoneIfNeeded </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function sends the MRNM_CONNECTION_DONE message to the server, if we have successfully connected to all other clients. </p>
<p>The message is not sent if any clients are not yet finished with connecting. </p>

</div>
</div>
<a class="anchor" id="ac2135c6020d4a511158831d95f2a1af5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">BOOL CALLBACK HoverRace::Client::NetworkInterface::ServerAddrCallBack </td>
          <td>(</td>
          <td class="paramtype">HWND&#160;</td>
          <td class="paramname"><em>pWindow</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UINT&#160;</td>
          <td class="paramname"><em>pMsgId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">WPARAM&#160;</td>
          <td class="paramname"><em>pWParam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">LPARAM&#160;</td>
          <td class="paramname"><em>pLParam</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Callback for the "Server selection" dialog box (IDD_SERVER_ADDR). </p>
<p>If the user hit OK, the entered player name, server address, and port are saved. Then, a new modal dialog is created (IDD_NET_PROGRESS) which calls <a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#a6cb1bc71fd3e14f26d7e805fef28922f" title="This is the callback for the &quot;Connecting to server&quot; dialog box (IDD_NET_PROGRESS).">WaitGameNameCallBack()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pWindow</td><td>Parent window </td></tr>
    <tr><td class="paramname">pMsgId</td><td>ID of the message sent by the dialog </td></tr>
    <tr><td class="paramname">pWParam</td><td>ID denoting a selected option (for pMsgId WM_COMMAND) </td></tr>
    <tr><td class="paramname">pLParam</td><td>not used but required for MFC callback </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a7bf01929c7700e5501fb9e517ca16cee"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">BOOL CALLBACK HoverRace::Client::NetworkInterface::ServerPortCallBack </td>
          <td>(</td>
          <td class="paramtype">HWND&#160;</td>
          <td class="paramname"><em>pWindow</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UINT&#160;</td>
          <td class="paramname"><em>pMsgId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">WPARAM&#160;</td>
          <td class="paramname"><em>pWParam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">LPARAM&#160;</td>
          <td class="paramname"><em>pLParam</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This callback is used by the "Port selection" dialog (IDD_SERVER_PORT). </p>
<p>This is where the user sets their player name and the port to be used by the server. Once the user selects a port the socket is initialized.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pWindow</td><td>Parent window </td></tr>
    <tr><td class="paramname">pMsgId</td><td>ID of the message sent by the dialog </td></tr>
    <tr><td class="paramname">pWParam</td><td>ID denoting a selected option (for pMsgId WM_COMMAND) </td></tr>
    <tr><td class="paramname">pLParam</td><td>not used but required for MFC callback </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="abff0fac5aba1dd9fb1fe90315ab8ace8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HoverRace::Client::NetworkInterface::SetPlayerName </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pPlayerName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the player name. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pPlayerName</td><td>The player name </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a722a51f236913a1c3152eb268b31cefd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL HoverRace::Client::NetworkInterface::SlaveConnect </td>
          <td>(</td>
          <td class="paramtype">HWND&#160;</td>
          <td class="paramname"><em>pWindow</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pServerIP</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>pDefaultPort</em> = <code><a class="el" href="class_hover_race_1_1_util_1_1_config.html#ad9eab09647376746d9fcfdf424348354">HoverRace::Util::Config::GetInstance</a>()-&gt;net.tcpServPort</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pGameName</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">HWND *&#160;</td>
          <td class="paramname"><em>pModalessDlg</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pReturnMessage</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is called when a user connects to an existing game from the IMR, or, after the SlavePreConnect phase completes (which is called when a user connects to a came from the "Connect to TCP Server..." option. </p>
<p>This phase sets up a dialog to get server information (if the PreConnect phase never happened) which calls <a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#ac2135c6020d4a511158831d95f2a1af5" title="Callback for the &quot;Server selection&quot; dialog box (IDD_SERVER_ADDR).">NetworkInterface::ServerAddrCallBack()</a> and later a dialog (the "TCP Connections" waiting screen) that calls <a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#ab662aae9afe2a226918cfcb616da781c" title="This method is called when modifications to the &quot;TCP Connections&quot; dialog (IDD_TCP_CLIENT or IDD_TCP_S...">NetworkInterface::ListCallBack()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pWindow</td><td>Parent window </td></tr>
    <tr><td class="paramname">pServerIP</td><td>IP of the server </td></tr>
    <tr><td class="paramname">pDefaultPort</td><td>Default port for the server (MR_DEFAULT_NET_PORT) </td></tr>
    <tr><td class="paramname">pGameName</td><td>Name of the game (title of the track) </td></tr>
    <tr><td class="paramname">pModalessDlg</td><td>If this is NULL, the "TCP Connections" dialog is modal </td></tr>
    <tr><td class="paramname">pReturnMessage</td><td>Callback message (see <a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#ab662aae9afe2a226918cfcb616da781c" title="This method is called when modifications to the &quot;TCP Connections&quot; dialog (IDD_TCP_CLIENT or IDD_TCP_S...">ListCallBack()</a>) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="af4022461918cd337171a6cc6fc428c51"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL HoverRace::Client::NetworkInterface::SlavePreConnect </td>
          <td>(</td>
          <td class="paramtype">HWND&#160;</td>
          <td class="paramname"><em>pWindow</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string &amp;&#160;</td>
          <td class="paramname"><em>pGameName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is called to get parameters about a server. </p>
<p>It is called as a result of the "Connect to TCP Server..." menu option being selected. When the dialog box is filled out, <a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#ac2135c6020d4a511158831d95f2a1af5" title="Callback for the &quot;Server selection&quot; dialog box (IDD_SERVER_ADDR).">NetworkInterface::ServerAddrCallBack</a> is called.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pWindow</td><td>Parent window </td></tr>
    <tr><td class="paramname">pGameName</td><td>String to store the name of the game into </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a26c22aed3881f08c1dd97f0130999d33"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL HoverRace::Client::NetworkInterface::UDPSend </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pClient</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_hover_race_1_1_client_1_1_net_message_buffer.html">NetMessageBuffer</a> *&#160;</td>
          <td class="paramname"><em>pMessage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BOOL&#160;</td>
          <td class="paramname"><em>pLongPort</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BOOL&#160;</td>
          <td class="paramname"><em>pResendLast</em> = <code>FALSE</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a message to the given client. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pClient</td><td>Index of the client </td></tr>
    <tr><td class="paramname">pMessage</td><td><a class="el" href="class_hover_race_1_1_client_1_1_net_message_buffer.html" title="The MR_NetMessageBuffer class is a wrapper for data being transmitted over the network.">NetMessageBuffer</a> structure containing the message to be sent </td></tr>
    <tr><td class="paramname">pLongPort</td><td>TRUE uses the UDP out long port, FALSE uses the UDP out short port </td></tr>
    <tr><td class="paramname">pResendLast</td><td>Should be set to TRUE if we are resending pMessage </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ac4c388a4b71b653a9144cd9a82975ab5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">BOOL CALLBACK HoverRace::Client::NetworkInterface::WaitConnCallback </td>
          <td>(</td>
          <td class="paramtype">HWND&#160;</td>
          <td class="paramname"><em>pWindow</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UINT&#160;</td>
          <td class="paramname"><em>pMsgId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">WPARAM&#160;</td>
          <td class="paramname"><em>pWParam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">LPARAM&#160;</td>
          <td class="paramname"><em>pLParam</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a6cb1bc71fd3e14f26d7e805fef28922f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">BOOL CALLBACK HoverRace::Client::NetworkInterface::WaitGameNameCallBack </td>
          <td>(</td>
          <td class="paramtype">HWND&#160;</td>
          <td class="paramname"><em>pWindow</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UINT&#160;</td>
          <td class="paramname"><em>pMsgId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">WPARAM&#160;</td>
          <td class="paramname"><em>pWParam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">LPARAM&#160;</td>
          <td class="paramname"><em>pLParam</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This is the callback for the "Connecting to server" dialog box (IDD_NET_PROGRESS). </p>
<p>It actually gets called three times:</p>
<ol type="1">
<li>When the dialog is initialized. Set up the new socket to connect to the server.</li>
<li>When the new socket is connected to the server. Ask the server for the game name.</li>
<li>When the server responds. Save the game name,</li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pWindow</td><td>Parent window </td></tr>
    <tr><td class="paramname">pMsgId</td><td>ID of the message sent by the dialog </td></tr>
    <tr><td class="paramname">pWParam</td><td>ID denoting a selected option (for pMsgId WM_COMMAND) </td></tr>
    <tr><td class="paramname">pLParam</td><td>not used but required for MFC callback </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a57f9131720504afd607feca5538d6f55"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">BOOL CALLBACK HoverRace::Client::NetworkInterface::WarnAloneCallback </td>
          <td>(</td>
          <td class="paramtype">HWND&#160;</td>
          <td class="paramname"><em>pWindow</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UINT&#160;</td>
          <td class="paramname"><em>pMsgId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">WPARAM&#160;</td>
          <td class="paramname"><em>pWParam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">LPARAM&#160;</td>
          <td class="paramname"><em>pLParam</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function is the callback for the "Warning, about to launch alone" dialog requested in #101. </p>
<p>Its function is to warn the user if they are launching a game alone. </p>

</div>
</div>
<h2>Member Data Documentation</h2>
<a class="anchor" id="acff074558e56761d0a7c61e29989d608"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html">NetworkInterface</a> * HoverRace::Client::NetworkInterface::mActiveInterface = NULL</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Message to return to the parent window in modeless mode. </p>

</div>
</div>
<a class="anchor" id="a19451953ef8a7e8f79838bfb459c1833"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">BOOL HoverRace::Client::NetworkInterface::mAllPreLoguedRecv</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a836963613da7a8ad77091d08f3ca7348"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">BOOL HoverRace::Client::NetworkInterface::mCanBePreLogued[<a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#a78a12c5bca110af0c4eb17c674855cb8a4f89cb14757733681f279d8b0daa895b">eMaxClient</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Used by client to know if all prelogued have been received. </p>

</div>
</div>
<a class="anchor" id="a508cb03f24788763eca87a13c2928f22"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_hover_race_1_1_client_1_1_network_port.html">NetworkPort</a> HoverRace::Client::NetworkInterface::mClient[<a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#a78a12c5bca110af0c4eb17c674855cb8a4f89cb14757733681f279d8b0daa895b">eMaxClient</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>for one-port UDP hack </p>

</div>
</div>
<a class="anchor" id="a72819d3ebd9b56a170a72e373d30b188"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">DWORD HoverRace::Client::NetworkInterface::mClientAddr[<a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#a78a12c5bca110af0c4eb17c674855cb8a4f89cb14757733681f279d8b0daa895b">eMaxClient</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Correctly connected state used by the server. </p>

</div>
</div>
<a class="anchor" id="a09bbe4ce45b992904ee358c96aba2a90"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">DWORD HoverRace::Client::NetworkInterface::mClientBkAddr[<a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#a78a12c5bca110af0c4eb17c674855cb8a4f89cb14757733681f279d8b0daa895b">eMaxClient</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a261c4994e5bb57c869a9aa3a082a3bc7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string HoverRace::Client::NetworkInterface::mClientName[<a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#a78a12c5bca110af0c4eb17c674855cb8a4f89cb14757733681f279d8b0daa895b">eMaxClient</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ac0e1dbab09394db3ab9d12bdc5630c6a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int HoverRace::Client::NetworkInterface::mClientPort[<a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#a78a12c5bca110af0c4eb17c674855cb8a4f89cb14757733681f279d8b0daa895b">eMaxClient</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a4f98f2f769828e5d6ba99fa27f941015"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">BOOL HoverRace::Client::NetworkInterface::mConnected[<a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#a78a12c5bca110af0c4eb17c674855cb8a4f89cb14757733681f279d8b0daa895b">eMaxClient</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a535becedafbe919681e3a75cc68f55a8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string HoverRace::Client::NetworkInterface::mGameName</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a5cd41e6fa47a791637506d4e8033eaa2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int HoverRace::Client::NetworkInterface::mId</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>player name </p>

</div>
</div>
<a class="anchor" id="a79adbd8279025f0dbaa39f4c99f36085"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string HoverRace::Client::NetworkInterface::mPlayer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ab4bb2ef151d4f23c0c8cd9218acd4710"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">BOOL HoverRace::Client::NetworkInterface::mPreLoguedClient[<a class="el" href="class_hover_race_1_1_client_1_1_network_interface.html#a78a12c5bca110af0c4eb17c674855cb8a4f89cb14757733681f279d8b0daa895b">eMaxClient</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a344375a8516ac8ea9c281b3952d67c09"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">SOCKET HoverRace::Client::NetworkInterface::mRegistrySocket</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ae42528194eb80e560e3f6e988d140e50"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int HoverRace::Client::NetworkInterface::mReturnMessage</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a9fc5d9d7a5b40bfb6900d13770313e20"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string HoverRace::Client::NetworkInterface::mServerAddr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a11246a48d83b25e2b288603c126e751c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">BOOL HoverRace::Client::NetworkInterface::mServerMode</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>player id </p>

</div>
</div>
<a class="anchor" id="a0934df39c6b1c8dc58c799cdd6d2599e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int HoverRace::Client::NetworkInterface::mServerPort</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a5db0dbc6ad22cb8c813c194297a54123"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int HoverRace::Client::NetworkInterface::mTCPRecvPort</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a836edfb47d1ca2aae41be5cd125a2352"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">SOCKET HoverRace::Client::NetworkInterface::mUDPOutLongPort</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a3f944f1fcc97124658458609cf307df1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">SOCKET HoverRace::Client::NetworkInterface::mUDPOutShortPort</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>just the track name </p>

</div>
</div>
<a class="anchor" id="a4dea174387476a0e5eb9f2da93bd9a81"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int HoverRace::Client::NetworkInterface::mUDPRecvPort</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a1c45aeb043a3b61fe087de55bace909b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">SOCKET HoverRace::Client::NetworkInterface::mUDPRecvSocket</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_net_interface_8h_source.html">NetInterface.h</a></li>
<li><a class="el" href="_net_interface_8cpp.html">NetInterface.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.1.2
</small></address>
</body>
</html>
